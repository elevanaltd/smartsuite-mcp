# SmartSuite Knowledge Platform - Shared Supabase Instance
# Using same instance as EAV Orchestrator with separate schema
# TECHNICAL-ARCHITECT: Schema isolation for clean separation

# Supabase Project Configuration (Shared with EAV)
KNOWLEDGE_SUPABASE_URL=https://tsizhlsbmwytqccjavap.supabase.co
KNOWLEDGE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRzaXpobHNibXd5dHFjY2phdmFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NjM1NzUsImV4cCI6MjA3MDQzOTU3NX0.OjLUKf2adEb9DFhLWv-v5DhMHuOjza9pycINrFAbHJM
KNOWLEDGE_SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRzaXpobHNibXd5dHFjY2phdmFwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDg2MzU3NSwiZXhwIjoyMDcwNDM5NTc1fQ.Z6f37YWGeBQy6YGsSOKBtTiWQ48MrA7h7Dy2U7zoN3E

# Database Connection (Pooled for application use)
KNOWLEDGE_DATABASE_URL=postgres://postgres.tsizhlsbmwytqccjavap:313Vana1984!@aws-1-eu-west-2.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1

# Direct connection for migrations (bypasses pooler)
KNOWLEDGE_DIRECT_URL=postgres://postgres.tsizhlsbmwytqccjavap:313Vana1984!@aws-1-eu-west-2.pooler.supabase.com:5432/postgres

# Schema Configuration
KNOWLEDGE_DB_SCHEMA=knowledge_platform

# Connection Pool Settings
KNOWLEDGE_DB_POOL_MIN=2
KNOWLEDGE_DB_POOL_MAX=10
KNOWLEDGE_DB_IDLE_TIMEOUT=10000
KNOWLEDGE_DB_CONNECTION_TIMEOUT=5000

# Feature Flags (Start disabled until ready)
KNOWLEDGE_PLATFORM_ENABLED=false
EVENT_SOURCING_ENABLED=false
REAL_TIME_SYNC_ENABLED=false
WEBHOOK_INTEGRATION_ENABLED=false

# Performance Settings
KNOWLEDGE_CACHE_TTL=300000 # 5 minutes in ms
KNOWLEDGE_SNAPSHOT_INTERVAL=100 # Create snapshot every 100 events
KNOWLEDGE_MAX_EVENTS_PER_QUERY=1000

# Monitoring
KNOWLEDGE_LOG_LEVEL=info
KNOWLEDGE_METRICS_ENABLED=true
KNOWLEDGE_HEALTH_CHECK_INTERVAL=30000 # 30 seconds
